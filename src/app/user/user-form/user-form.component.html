<form class="container mt-4" novalidate #form="ngForm" (ngSubmit)="onSubmit(form)">
    <div class="form-group">
        <label>Name</label>
        <input type="text" minlength="3" maxlength="18" [(ngModel)]="user.name" #name="ngModel" name="name" placeholder="Nhap ten cua ban"
            class="form-control" required>
        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert">
            <div *ngIf="name.errors?.['required']">Tên không được để trống</div>
            <div *ngIf="name.errors?.['minlength'] || name.errors?.['maxlength']"> Tên có độ dài từ 3 tới 18 ký tự </div>
        </div>

    </div>


    <div class="form-group">
        <label>Email</label>
        <input type="email" [(ngModel)]="user.email" #email="ngModel" name="email" placeholder="Nhap email cua ban"
            class="form-control" required email>
        <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert">
            <div *ngIf="email.errors?.['required']">Email không được để trống</div>
            <div *ngIf="email.errors?.['email']">Email không đúng định dạng</div>
        </div>
    </div>

    <div class="form-group">
        <label>Gender</label>
        <select [(ngModel)]="user.gender" #gender="ngModel" name="gender" class="form-control" required>
            <option value="Male">Nam</option>
            <option value="Female">Nu</option>
        </select>
        <div *ngIf="gender.invalid && (gender.dirty || gender.touched)" class="alert">
            <div *ngIf="gender.errors?.['required']">Giới tính không được để trống</div>
        </div>
    </div>

    <div class="form-group">
        <label>Phone</label>
        <input type="text" minlength="3" maxlength="18" [(ngModel)]="user.phone" #phone="ngModel" name="phone" placeholder="Nhap so dien thoai cua ban"
            class="form-control" required pattern="^(0|\+)[0-9]{9}$">
        <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert">
            <div *ngIf="phone.errors?.['required']">SĐT không được để trống</div>
            <div *ngIf="phone.errors?.['pattern']"> SĐT phải là 10 số bắt đầu là 0 hoặc +</div>
            <div *ngIf="phone.errors?.['minlength'] || phone.errors?.['maxlength']"> Phone có độ dài từ 3 tới 18 ký tự</div>
        </div>
    </div>

    <div class="form-group">
        <label>Country</label>
        <select id="country-select" [(ngModel)]="user.country" #country="ngModel" name="country" class="form-control" required>
            <option *ngFor="let country of countries" [value]="country.code">
                {{ country.name }}
            </option>
        </select>
        <div *ngIf="country.invalid && (country.dirty || country.touched)" class="alert">
            <div *ngIf="country.errors?.['required']">Country không được để trống</div>
        </div>
    </div>

    <div class="form-group">
        <label>Address</label>
        <input type="text" minlength="3" maxlength="18" [(ngModel)]="user.address" name="address" placeholder="Nhap dia chi cua ban"
            class="form-control" required #address="ngModel">
            <div *ngIf="address.invalid && (address.dirty || address.touched)" class="alert">
                <div *ngIf="address.errors?.['required']">Address không được để trống</div>
                <div *ngIf="address.errors?.['minlength'] || address.errors?.['maxlength']"> Address có độ dài từ 3 tới 18 ký tự</div>
            </div>
    </div>

    <div class="form-group">
        <label>Skills</label>
        <div *ngFor="let skill of listSkills; let i = index">
            <input type="checkbox" [(ngModel)]="selectedSkills[i]" name="skill{{i}}"> {{ skill }}
        </div>
    </div>

    <div class="form-group">
        <label>Description</label>
        <textarea [(ngModel)]="user.description" name="description" placeholder="Mo ta ban than"
            class="form-control" required #description="ngModel"></textarea>
            <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert">
                <div *ngIf="description.errors?.['required']">Description không được để trống</div>
                <div *ngIf="description.errors?.['minlength'] || description.errors?.['maxlength']"> Mô tả phải có độ dài từ 3 tới 18 ký tự</div>
            </div>
    </div>

    <button type="submit" [disabled]="form.invalid" class="btn btn-primary">Submit</button>
</form>


<div class="mt-4">
    <ng-container *ngIf="userLists.length > 0">
        <app-user-list (deleteUserEvent)="deleteUser($event)" (editUserEvent)="editUser($event)"
            [userLists]="userLists">
        </app-user-list>
    </ng-container>
</div>